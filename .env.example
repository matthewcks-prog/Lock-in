# =============================================================================
# Lock-in - Root Environment Variables Template
# =============================================================================
# This file configures the EXTENSION BUILD process only (Vite variables).
# Backend configuration lives in backend/.env.example (see that file instead).
#
# FILE HIERARCHY:
# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ PURPOSE             │ FILE                      │ GITIGNORED? │ PRIORITY   │
# ├─────────────────────┼───────────────────────────┼─────────────┼────────────┤
# │ Extension build     │ .env.local                │ Yes         │ Highest    │
# │                     │ .env                      │ No          │ Fallback   │
# ├─────────────────────┼───────────────────────────┼─────────────┼────────────┤
# │ Backend runtime     │ backend/.env.local        │ Yes         │ Highest    │
# │                     │ backend/.env              │ No          │ Fallback   │
# ├─────────────────────┼───────────────────────────┼─────────────┼────────────┤
# │ Docker development  │ .env.local (root)         │ Yes         │ Used by    │
# │                     │                           │             │ compose    │
# └─────────────────────────────────────────────────────────────────────────────┘
#
# QUICK START:
# 1. Copy this file to .env.local (gitignored)
# 2. For backend, see backend/.env.example
# 3. For Docker, .env.local is shared by both extension build and docker-compose
# =============================================================================

# -----------------------------------------------------------------------------
# EXTENSION BUILD CONFIGURATION (VITE_ prefix required)
# These are embedded into the extension bundle at build time
# -----------------------------------------------------------------------------

# Development Supabase (for local dev & testing)
VITE_SUPABASE_URL_DEV=https://your-dev-project.supabase.co
VITE_SUPABASE_ANON_KEY_DEV=your-dev-anon-key-here
VITE_BACKEND_URL_DEV=http://localhost:3000

# Production Supabase (for production builds)
VITE_SUPABASE_URL_PROD=https://your-prod-project.supabase.co
VITE_SUPABASE_ANON_KEY_PROD=your-prod-anon-key-here
VITE_BACKEND_URL_PROD=https://your-backend.azurecontainerapps.io

# Optional: Sentry error tracking (extension-side)
# VITE_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Optional: Extension debug logging
# VITE_DEBUG=true

# -----------------------------------------------------------------------------
# DOCKER COMPOSE SHARED VARIABLES
# When using 'docker compose --env-file .env.local up', these are interpolated
# See docker-compose.yml for which variables it expects
# -----------------------------------------------------------------------------

# Backend variables needed by docker-compose (copied from backend/.env.local)
# These allow docker-compose to build the backend container with correct config
NODE_ENV=development
PORT=3000

# Supabase credentials (same as backend/.env.local)
SUPABASE_URL_DEV=http://127.0.0.1:54321
SUPABASE_SERVICE_ROLE_KEY_DEV=your-service-role-key-here
SUPABASE_ANON_KEY_DEV=your-anon-key-here

# Optional: JWT secret for legacy HS256 tokens (local Supabase CLI v1.x+ uses ES256)
SUPABASE_JWT_SECRET=super-secret-jwt-token-with-at-least-32-characters-long

# AI Provider (at least one required for backend)
OPENAI_API_KEY=sk-proj-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini

# -----------------------------------------------------------------------------
# FOR FULL BACKEND CONFIGURATION:
# See backend/.env.example for all AI providers (Gemini, Groq, Azure OpenAI)
# and additional settings (transcription, storage, rate limiting)
# -----------------------------------------------------------------------------
